# ===============================================================
# HLAVNÍ KONFIGURACE (SPOLE?NÉ)
# ===============================================================
spring.application.name=checkfood-service

# ?? D?LE?ITÉ: Pokud není nastavena prom?nná prost?edí, automaticky se zapne 'local'
spring.profiles.active=${SPRING_PROFILES_ACTIVE:local}

server.port=8081

# ===============================================================
# DATABÁZE (Placeholdery)
# ===============================================================
# Hodnoty se doplní bu? z .env.example.local (pro local) nebo z Cloud ENV (pro prod)
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA / Hibernate (Bezpe?ný základ)
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.open-in-view=false

# Flyway
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

# ===============================================================
# SECURITY & JWT
# ===============================================================
security.jwt.secret=${JWT_SECRET}
security.jwt.access-token-expiration-seconds=${JWT_EXPIRES:3600}
security.jwt.refresh-token-expiration-seconds=${JWT_REFRESH:86400}
security.jwt.issuer=${JWT_ISSUER:checkfood-api}

# OAuth Placeholdery
security.oauth.google.client-id=${GOOGLE_CLIENT_ID}
security.oauth.google.client-secret=${GOOGLE_CLIENT_SECRET}
security.oauth.apple.client-id=${APPLE_CLIENT_ID}
security.oauth.apple.team-id=${APPLE_TEAM_ID}
security.oauth.apple.key-id=${APPLE_KEY_ID}
security.oauth.apple.private-key=${APPLE_PRIVATE_KEY}

# Audit
security.audit.enabled=${SECURITY_AUDIT_ENABLED:true}
security.audit.retention-days=${SECURITY_AUDIT_RETENTION:30}

# ===============================================================
# EMAIL / SMTP
# ===============================================================
spring.mail.host=${SMTP_HOST}
spring.mail.port=${SMTP_PORT:587}
spring.mail.username=${SMTP_USERNAME}
spring.mail.password=${SMTP_PASSWORD}

spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# ===============================================================
# OSTATNÍ
# ===============================================================
app.backend.url=${APP_BACKEND_URL:http://localhost:8081}
spring.mvc.hiddenmethod.filter.enabled=true